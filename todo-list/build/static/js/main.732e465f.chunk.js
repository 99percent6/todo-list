(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{134:function(e){e.exports={api:{host:"https://thetasker.ru/api"},secretKey:"n8gsdg8n2sm9335d"}},392:function(e,t,a){e.exports=a(797)},583:function(e,t,a){},591:function(e,t){},593:function(e,t){},627:function(e,t){},628:function(e,t){},674:function(e,t,a){},681:function(e,t,a){},689:function(e,t,a){},690:function(e,t,a){},751:function(e,t,a){},797:function(e,t,a){"use strict";a.r(t);a(393);var n=a(0),r=a.n(n),o=a(23),i=a.n(o),c=(a(583),a(8)),s=a(9),l=a(11),u=a(10),p=a(12),d=a(47),m=a(97),h=a(17),f=a(174),b=a.n(f),v=a(4),j=a(829),g=(a(674),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).renderBtn=function(){var e=a.props.classes;return r.a.createElement("div",{className:e.container},r.a.createElement(j.a,{variant:"outlined",color:"primary",component:d.b,to:{pathname:"/todo/tasks/all"},className:e.button},"\u041d\u0430\u0447\u0430\u0442\u044c \u0434\u0435\u0439\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c"))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.token,n=e.currentUser;return r.a.createElement("div",{className:"auth-container"},a&&n?this.renderBtn():t)}}]),t}(n.Component)),O=Object(h.b)(function(e){var t=e.user;return{token:t.token,currentUser:t.current}})(Object(v.a)(function(e){return{container:{display:"flex",justifyContent:"center"},button:{margin:e.spacing()}}})(g)),E=(a(681),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{id:"home"},r.a.createElement(O,null,r.a.createElement("div",{className:"buttons"},r.a.createElement(j.a,{variant:"outlined",color:"primary",component:d.b,to:{pathname:"/login"},className:e.button},"\u0412\u043e\u0439\u0442\u0438"),r.a.createElement(j.a,{variant:"outlined",color:"secondary",component:d.b,to:{pathname:"/registration"},className:e.button},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"))))}}]),t}(n.Component)),y=Object(v.a)(function(e){return{button:{margin:e.spacing(1)}}})(E),k=a(22),x=a.n(k),w=a(39),C=a(15),T=a(43),S=a.n(T),P=a(832),N=a(833),D=a(861),U=a(16),R=a(863),_=a(134),A=function(e,t,a){if(document&&void 0!==document&&e){var n="";if(a)for(var r in a)n+="".concat(r,"=").concat(a[r],";");document.cookie="".concat(e,"=").concat(t,"; ").concat(n)}},V=function(e){if(document&&void 0!==document&&e){var t=document.cookie.split(";"),a="",n=!0,r=!1,o=void 0;try{for(var i,c=t[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){var s=i.value;if(e===s.split("=")[0].trim()){a=s.split("=")[1];break}}}catch(l){r=!0,o=l}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return a}},I=function(e){if(document&&void 0!==document&&e){var t=new Date;t.setTime(t.getTime()-1),document.cookie=e+="=; expires="+t.toGMTString()}},F=a(342),W=a.n(F),L=function(){var e=Object(w.a)(x.a.mark(function e(t){var a,n,r,o,i,c,s,l,u;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.url,n=t.method,r=t.body,a&&n){e.next=4;break}throw console.error("URL and method is required fields"),new Error;case 4:return o={method:n,json:!0,headers:{Accept:"application/json","Content-Type":"application/json"}},r&&Object.assign(o,{body:JSON.stringify(r)}),(i=V("token"))&&!a.includes("token")&&(c=W.a.parse(a),s=c.search?"&":"?",a+="".concat(s,"token=").concat(i)),e.prev=8,e.next=11,fetch(a,o);case 11:return l=e.sent,e.next=14,l.json();case 14:return u=e.sent,e.abrupt("return",u);case 18:e.prev=18,e.t0=e.catch(8),console.error(e.t0);case 21:case"end":return e.stop()}},e,null,[[8,18]])}));return function(t){return e.apply(this,arguments)}}(),B=_.api.host,M=Object(R.a)("UPD_USER_LOGIN"),q=Object(R.a)("UPD_USER_PASSWORD"),K=Object(R.a)("UPD_USER_TOKEN"),z=Object(R.a)("UPD_USER_CURRENT"),G=Object(R.a)("UPD_REGISTRATION_USER_LOGIN"),H=Object(R.a)("UPD_REGISTRATION_USER_PASSWORD"),J=Object(R.a)("UPD_REGISTRATION_USER_REPEATED_PASSWORD"),Y=Object(R.a)("UPD_REGISTRATION_USER_NAME"),X=Object(R.a)("UPD_REGISTRATION_USER_EMAIL"),$=Object(R.a)("UPD_ACTIVE_TASK_TAB"),Q=Object(R.a)("UPD_TEXT"),Z=Object(R.a)("UPD_NEW_VALUE"),ee=Object(R.a)("UPD_PRIORITY_TASK"),te=Object(R.a)("UPD_PERIOD_OF_EXECUTION"),ae=Object(R.a)("UPD_PROJECT_TASK"),ne=Object(R.a)("ADD_TASK"),re=Object(R.a)("DEL_TASK"),oe=Object(R.a)("UPD_TASK"),ie=Object(R.a)("REPLACE_TASKS"),ce=Object(R.a)("SET_AUTH_USER_STATE"),se=Object(R.a)("SET_REGISTRATION_USER_STATE"),le=Object(R.a)("SET_SYNC_TASKS_STATE"),ue=Object(R.a)("SET_NOTIFICATION_STATE"),pe=Object(R.a)("SET_NOTIFICATION"),de=Object(R.a)("CHANGE_VISIBLE_SIDEBAR"),me=Object(R.a)("UPD_FEEDBACK_TITLE"),he=Object(R.a)("UPD_FEEDBACK_CONTENT"),fe=Object(R.a)("UPD_FEEDBACK_EMAIL"),be=Object(R.a)("UPD_FEEDBACK_ALL_FIELDS"),ve=Object(R.a)("UPD_PROJECT_LIST"),je=Object(R.a)("UPD_PROJECT_NAME"),ge=Object(R.a)("ADD_PROJECT"),Oe=Object(R.a)("DELETE_PROJECT"),Ee=Object(R.a)("SET_SYNC_PROJECTS_STATE"),ye=function(e){var t=e.token,a=e.field,n=void 0===a?"":a,r=e.value,o=void 0===r?"":r;return function(){var e=Object(w.a)(x.a.mark(function e(a){var r,i,c;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}throw a(le({syncTasksState:"fail"})),new Error("Token is required field");case 3:return e.prev=3,r="".concat(B,"/tasks/list"),n&&o&&(r+="?field=".concat(n,"&value=").concat(o)),a(le({syncTasksState:"request"})),e.next=9,L({url:r,method:"GET"});case 9:(i=e.sent)&&200===i.code?(c={},i.result.forEach(function(e){c=Object(U.a)({},c,Object(C.a)({},e.id,e))}),a(le({syncTasksState:"success"})),a(ie({tasks:c}))):(a(le({syncTasksState:"fail"})),a(pe({open:!0,message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0441\u043f\u0438\u0441\u043a\u0430 \u0437\u0430\u0434\u0430\u0447, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u0435\u0440\u0435\u043b\u043e\u0433\u0438\u043d\u0438\u0442\u044c\u0441\u044f.",type:"error"}))),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),a(le({syncTasksState:"fail"})),console.error(e.t0);case 17:case"end":return e.stop()}},e,null,[[3,13]])}));return function(t){return e.apply(this,arguments)}}()},ke=function(e){var t=e.task;return function(){var e=Object(w.a)(x.a.mark(function e(a){var n,r;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Task is required field");case 2:return e.prev=2,a(oe({task:t})),n="".concat(B,"/tasks/updateTask"),e.next=7,L({url:n,method:"PUT",body:t});case 7:return r=e.sent,e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(2),console.error("Error at updating task: ",e.t0);case 14:case"end":return e.stop()}},e,null,[[2,11]])}));return function(t){return e.apply(this,arguments)}}()},xe=function(e){var t=e.token;return function(){var e=Object(w.a)(x.a.mark(function e(a){var n,r;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Token is required field");case 2:return e.prev=2,n="".concat(B,"/user/getUser?token=").concat(t),a(ce({authState:"request"})),e.next=7,L({url:n,method:"GET"});case 7:if(!(r=e.sent)||200!==r.code){e.next=14;break}return a(ce({authState:"success"})),a(z({user:r.result})),e.abrupt("return",r.result);case 14:return a(ce({authState:"fail"})),e.abrupt("return",null);case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(2),a(ce({authState:"fail"})),console.error(e.t0);case 22:case"end":return e.stop()}},e,null,[[2,18]])}));return function(t){return e.apply(this,arguments)}}()},we=function(e){var t=e.token;return function(){var e=Object(w.a)(x.a.mark(function e(a){var n,r,o;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}throw a(Ee({syncProjectsState:"error"})),new Error("Token is required field");case 3:return e.prev=3,n="".concat(B,"/projects/list"),a(Ee({syncProjectsState:"request"})),e.next=8,L({url:n,method:"GET"});case 8:return(r=e.sent)&&200===r.code?(o={},r.result.forEach(function(e){o=Object(U.a)({},o,Object(C.a)({},e.id,e))}),a(Ee({syncProjectsState:"success"})),a(ve({list:o}))):(a(Ee({syncProjectsState:"error"})),a(pe({open:!0,message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0441\u043f\u0438\u0441\u043a\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432.",type:"error"}))),e.abrupt("return",r);case 13:e.prev=13,e.t0=e.catch(3),a(Ee({syncProjectsState:"error"})),console.error(e.t0);case 17:case"end":return e.stop()}},e,null,[[3,13]])}));return function(t){return e.apply(this,arguments)}}()},Ce=(a(689),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"lds-css ng-scope"},r.a.createElement("div",{style:{width:"100%",height:"100%"},className:"lds-ripple"},r.a.createElement("div",null),r.a.createElement("div",null)))}}]),t}(n.Component)),Te=(a(690),{updUserLogin:M,updUserPassword:q,authUser:function(e){var t=e.login,a=e.password;return function(){var e=Object(w.a)(x.a.mark(function e(n){var r,o;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&a){e.next=2;break}throw new Error("Missing required fields");case 2:return e.prev=2,r="".concat(B,"/user/login"),n(ce({authState:"request"})),e.next=7,L({url:r,method:"POST",body:{login:t,password:a}});case 7:if(!(o=e.sent)||200!==o.code){e.next=14;break}return n(ce({authState:"success"})),n(K({token:o.result})),e.abrupt("return",o.result);case 14:return n(ce({authState:"fail"})),e.abrupt("return",null);case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(2),n(ce({authState:"fail"})),console.error("Error during auth user - ",e.t0);case 22:case"end":return e.stop()}},e,null,[[2,18]])}));return function(t){return e.apply(this,arguments)}}()},getUser:xe,setNotification:pe}),Se=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).handleChange=function(e){return function(t){var n=a.props;({login:n.updUserLogin,password:n.updUserPassword})[e](Object(C.a)({},e,t.target.value))}},a.handleKeyPress=function(e){"Enter"===e.key&&a.auth()},a.auth=Object(w.a)(x.a.mark(function e(){var t,n,r,o,i;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.authUser,r=t.login,o=t.password,i=t.setNotification,e.next=3,n({login:r,password:o});case 3:e.sent?a.getUser():"fail"===a.props.authUserState&&i({open:!0,message:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c.",type:"error"});case 5:case"end":return e.stop()}},e)})),a.getUser=function(){var e=a.props,t=e.token,n=e.getUser,r=e.history;n({token:t}).then(function(e){if(e){var a=new b.a(_.secretKey).encrypt(JSON.stringify(e));A("token",t,{expires:new Date(Date.now()+2592e6)}),A("user",a,{expires:new Date(Date.now()+2592e6)}),r.replace("/todo/tasks/all")}})},a.renderBtn=function(){var e=a.props,t=e.authUserState,n=e.classes;return"request"===t?r.a.createElement(j.a,{variant:"outlined",color:"primary",className:n.button},r.a.createElement(Ce,null)):r.a.createElement(j.a,{variant:"outlined",color:"primary",onClick:function(){return a.auth()},className:n.button},"\u0412\u043e\u0439\u0442\u0438")},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.login,n=e.password;return r.a.createElement("div",{id:"login"},r.a.createElement(O,null,r.a.createElement("div",{className:t.root},r.a.createElement(P.a,{className:S()(t.margin,t.textField)},r.a.createElement(D.a,{htmlFor:"adornment-login"},"\u041b\u043e\u0433\u0438\u043d"),r.a.createElement(N.a,{id:"adornment-login",type:"text",value:a,onChange:this.handleChange("login"),onKeyPress:this.handleKeyPress})),r.a.createElement(P.a,{className:S()(t.margin,t.textField)},r.a.createElement(D.a,{htmlFor:"adornment-password"},"\u041f\u0430\u0440\u043e\u043b\u044c"),r.a.createElement(N.a,{id:"adornment-password",type:"password",value:n,onChange:this.handleChange("password"),onKeyPress:this.handleKeyPress})),this.renderBtn())))}}]),t}(n.Component),Pe=Object(h.b)(function(e){var t=e.user,a=t.token,n=t.current,r=e.UIState.authUserState,o=e.userAuth;return{login:o.login,password:o.password,token:a,currentUser:n,authUserState:r}},Te)(Object(v.a)(function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"center"},margin:{margin:e.spacing(1)},textField:{flexBasis:240},button:{margin:e.spacing(1),minWidth:"80px"}}})(Se)),Ne=a(59),De=a.n(Ne),Ue=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.message,a=e.classes;return e.isVisible?r.a.createElement("span",{className:a.root},t):null}}]),t}(n.Component),Re=Object(v.a)(function(e){return{root:{color:"red",fontSize:"12px"}}})(Ue),_e=(a(751),{updRegistrationUserLogin:G,updRegistrationUserPassword:H,updRegistrationUserRepeatedPassword:J,updRegistrationUserName:Y,updRegistrationUserEmail:X,getUser:xe,registrationUser:function(e){var t=e.user;return function(){var e=Object(w.a)(x.a.mark(function e(a){var n,r;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("User is required field");case 2:return e.prev=2,n="".concat(B,"/user/registration"),a(se({registrationState:"request"})),e.next=7,L({url:n,method:"POST",body:t});case 7:if(!(r=e.sent)||200!==r.code){e.next=13;break}return a(se({registrationState:"success"})),e.abrupt("return",r);case 13:return a(se({registrationState:"fail"})),e.abrupt("return",r);case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(2),a(se({registrationState:"fail"})),console.error("Error at registration user: ",e.t0);case 21:case"end":return e.stop()}},e,null,[[2,17]])}));return function(t){return e.apply(this,arguments)}}()},setNotification:pe}),Ae=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={isValidLogin:"",isValidPassword:"",isEqualPasswords:"",isValidEmail:"",isValidName:""},a.registrationUser=function(){var e=a.props,t=e.registrationUser,n=e.login,r=e.password,o=e.repeatedPassword,i=e.name,c=e.email,s=e.setNotification,l=e.history;t({user:{login:n,password:r,repeatedPassword:o,name:i,email:c}}).then(function(e){var t=a.props.registrationUserState;if(200===e.code)"success"===t&&(s({open:!0,message:"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c",type:"success"}),l.push("/login"));else if(500===e.code&&("Login busy"===e.result||"Email busy"===e.result)&&"fail"===t){var n="".concat(e.result.includes("Login")?"\u041b\u043e\u0433\u0438\u043d":"Email"," \u0443\u0436\u0435 \u0437\u0430\u043d\u044f\u0442");s({open:!0,message:n,type:"error"})}})},a.renderBtn=function(){var e=a.props,t=e.classes,n=e.registrationUserState,o=a.state,i=o.isValidLogin,c=o.isValidPassword,s=o.isEqualPasswords,l=o.isValidEmail,u=o.isValidName,p=i&&c&&s&&l&&u;return"request"===n?r.a.createElement(j.a,{variant:"outlined",color:"secondary",className:t.button},r.a.createElement(Ce,null)):"success"===n?r.a.createElement(j.a,{variant:"outlined",color:"primary",component:d.b,to:{pathname:"/login"},className:t.button},"\u0412\u043e\u0439\u0442\u0438"):r.a.createElement(j.a,{variant:"outlined",color:"secondary",disabled:!p,onClick:function(){return a.registrationUser()},className:t.button},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")},a.validationFields=function(e,t){switch(t){case"login":var n=!De.a.isEmpty(e)&&De.a.isAlphanumeric(e);a.setState({isValidLogin:n});break;case"password":var r=!De.a.isAlpha(e,["ru-RU"])&&!De.a.isEmpty(e)&&e.length>=6;a.setState({isValidPassword:r});break;case"repeatedPassword":var o=De.a.equals(e,a.props.password)&&!De.a.isEmpty(e);a.setState({isEqualPasswords:o});break;case"email":var i=De.a.isEmail(e)&&!De.a.isEmpty(e);a.setState({isValidEmail:i});break;case"name":var c=!De.a.isEmpty(e);a.setState({isValidName:c})}},a.handleChange=function(e){return function(t){var n=a.props,r=n.updRegistrationUserLogin,o=n.updRegistrationUserPassword,i=n.updRegistrationUserRepeatedPassword,c=n.updRegistrationUserName,s=n.updRegistrationUserEmail,l=t.target.value;({login:r,password:o,repeatedPassword:i,name:c,email:s})[e](Object(C.a)({},e,l)),a.validationFields(l,e)}},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.login,n=e.password,o=e.repeatedPassword,i=e.name,c=e.email,s=this.state,l=s.isValidLogin,u=s.isValidPassword,p=s.isEqualPasswords,d=s.isValidEmail,m=s.isValidName;return r.a.createElement("div",{id:"register"},r.a.createElement(O,null,r.a.createElement("div",{className:t.root},r.a.createElement(P.a,{className:S()(t.margin,t.textField)},r.a.createElement(D.a,{htmlFor:"adornment-login"},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d*"),r.a.createElement(N.a,{id:"adornment-login",type:"text",value:a,onChange:this.handleChange("login")})),r.a.createElement(Re,{message:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d",isVisible:!l}),r.a.createElement(P.a,{className:S()(t.margin,t.textField)},r.a.createElement(D.a,{htmlFor:"adornment-password"},"\u041f\u0430\u0440\u043e\u043b\u044c*"),r.a.createElement(N.a,{id:"adornment-password",type:"password",value:n,onChange:this.handleChange("password")})),r.a.createElement(Re,{message:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",isVisible:!u}),r.a.createElement(P.a,{className:S()(t.margin,t.textField)},r.a.createElement(D.a,{htmlFor:"adornment-repeated-password"},"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c*"),r.a.createElement(N.a,{id:"adornment-repeated-password",type:"password",value:o,onChange:this.handleChange("repeatedPassword")})),r.a.createElement(Re,{message:"\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442",isVisible:!p}),r.a.createElement(P.a,{className:S()(t.margin,t.textField)},r.a.createElement(D.a,{htmlFor:"adornment-email"},"Email*"),r.a.createElement(N.a,{id:"adornment-email",type:"text",value:c,onChange:this.handleChange("email")})),r.a.createElement(Re,{message:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email",isVisible:!d}),r.a.createElement(P.a,{className:S()(t.margin,t.textField)},r.a.createElement(D.a,{htmlFor:"adornment-name"},"\u0418\u043c\u044f*"),r.a.createElement(N.a,{id:"adornment-name",type:"text",value:i,onChange:this.handleChange("name")})),r.a.createElement(Re,{message:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435",isVisible:!m}),this.renderBtn())))}}]),t}(n.Component),Ve=Object(h.b)(function(e){var t=e.user,a=t.token,n=t.current,r=e.userRegistration;return{login:r.login,password:r.password,repeatedPassword:r.repeatedPassword,name:r.name,email:r.email,token:a,currentUser:n,registrationUserState:e.UIState.registrationUserState}},_e)(Object(v.a)(function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"center"},margin:{margin:e.spacing()},textField:{flexBasis:240},button:{marginTop:"10px",margin:e.spacing(),minWidth:"200px"}}})(Ae)),Ie=a(343),Fe=a.n(Ie),We=a(851),Le=a(855),Be=a(842),Me=a(798),qe=a(847),Ke=a(835),ze=a(796),Ge=a(352),He=a.n(Ge),Je=a(351),Ye=a.n(Je),Xe=a(350),$e=a.n(Xe),Qe=function(){return[{value:"\u0412\u0430\u0436\u043d\u043e \u0421\u0440\u043e\u0447\u043d\u043e",code:1,color:"red"},{value:"\u0412\u0430\u0436\u043d\u043e \u041d\u0435 \u0421\u0440\u043e\u0447\u043d\u043e",code:2,color:"green"},{value:"\u041d\u0435 \u0412\u0430\u0436\u043d\u043e \u0421\u0440\u043e\u0447\u043d\u043e",code:3,color:"orange"},{value:"\u041d\u0435 \u0412\u0430\u0436\u043d\u043e \u041d\u0435 \u0421\u0440\u043e\u0447\u043d\u043e",code:4,color:"gray"}]},Ze=function(e){var t=e?e.toLowerCase():"",a={delimiter:"-",limit:void 0,replacements:{},transliterate:!0},n={"\xa9":"(c)","\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0435":"e","\u0451":"yo","\u0436":"zh","\u0437":"z","\u0438":"i","\u0439":"j","\u043a":"k","\u043b":"l","\u043c":"m","\u043d":"n","\u043e":"o","\u043f":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"f","\u0445":"h","\u0446":"c","\u0447":"ch","\u0448":"sh","\u0449":"sh","\u044a":"","\u044b":"y","\u044c":"","\u044d":"e","\u044e":"yu","\u044f":"ya"};if(a.transliterate)for(var r in n)t=t.replace(RegExp(r,"g"),n[r]);var o=RegExp("[^a-z0-9]+","ig");return t=(t=(t=(t=t.replace(o,a.delimiter)).replace(RegExp("["+a.delimiter+"]{2,}","g"),a.delimiter)).substring(0,a.limit)).replace(RegExp("(^"+a.delimiter+"|"+a.delimiter+"$)","g"),"")},et=a(839),tt=a(841),at=a(840),nt=a(845),rt=a(857),ot=a(834),it={updPriorityTask:ee},ct=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={priority:{commonStyle:{width:"15px",height:"15px",borderRadius:"50%"},list:Qe()}},a.handleChange=function(e){(0,a.props.updPriorityTask)({priority:e.target.value})},a.renderMenuItem=function(){var e=a.state.priority,t=a.props.classes,n=e.commonStyle;return e.list.map(function(e){return n=Object(U.a)({},n,{backgroundColor:e.color}),r.a.createElement(ot.a,{key:e.color,value:e.code},r.a.createElement("div",{style:n}),r.a.createElement(Ke.a,{className:t.itemMenu,inset:!0,primary:e.value}))})},a.renderSelectedPriorityValue=function(e){var t=a.state.priority,n=a.props.classes,o=t.list.find(function(t){return parseInt(t.code)===parseInt(e)}),i=Object(U.a)({},t.commonStyle,{backgroundColor:o.color,marginRight:"15px"});return o?r.a.createElement("div",{className:n.selectValue},r.a.createElement("div",{style:i}),r.a.createElement("div",null,o.value)):null},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.priority;return r.a.createElement("div",{className:"additional-options"},r.a.createElement(P.a,{className:t.formControl},r.a.createElement(D.a,{htmlFor:"priority"},"\u041f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442"),r.a.createElement(rt.a,{value:a,onChange:this.handleChange,name:"priority",renderValue:this.renderSelectedPriorityValue,input:r.a.createElement(N.a,{id:"priority"})},this.renderMenuItem())))}}]),t}(n.Component),st=Object(h.b)(function(e){return{priority:e.addTask.priority}},it)(Object(v.a)(function(e){return{formControl:{minWidth:200},itemMenu:{padding:"0px 0px 0px 15px"},selectValue:{display:"flex",alignItems:"center"}}})(ct)),lt={updEditValue:Z},ut=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){var t=e.target.value;(0,a.props.updEditValue)({text:t})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.taskLabel;return r.a.createElement(P.a,{className:S()(t.margin,t.textField)},r.a.createElement(D.a,{htmlFor:"task-label"},"\u0417\u0430\u0434\u0430\u0447\u0430"),r.a.createElement(N.a,{id:"task-label",type:"text",value:a,onChange:this.handleChange}))}}]),t}(n.Component),pt=Object(h.b)(function(e){return{taskLabel:e.addTask.editValue}},lt)(Object(v.a)(function(e){return{margin:{margin:e.spacing()},textField:{width:"100%",margin:"10px 0"}}})(ut)),dt=a(245),mt=a(367),ht=a(347),ft=a.n(ht),bt=a(843),vt=a(368),jt=a(844),gt=a(133),Ot=a.n(gt),Et=(a(90),{updPeriodOfExecution:te}),yt=Object(vt.a)({overrides:{MuiPickersModal:{dialogRoot:{margin:"10px",minWidth:"320px"}},MuiDialog:{paperScrollPaper:{maxHeight:"100%"}}}}),kt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleDateChange=function(e){(0,a.props.updPeriodOfExecution)({executionDate:e?Ot()(e).format():null})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.executionDate;return r.a.createElement(dt.b,{utils:mt.a,locale:ft.a},r.a.createElement(bt.a,{container:!0,className:"additional-options",justify:"flex-start"},r.a.createElement(jt.a,{theme:yt},r.a.createElement(dt.a,{clearable:!0,label:"\u0421\u0440\u043e\u043a \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",inputVariant:"standard",invalidDateMessage:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0434\u0430\u0442\u044b",cancelLabel:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",clearLabel:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c",ampm:!1,value:e,onChange:this.handleDateChange,format:"dd MMMM yyyy HH:mm"}))))}}]),t}(n.Component),xt=Object(h.b)(function(e){return{executionDate:e.addTask.executionDate}},Et)(Object(v.a)({})(kt)),wt=a(150),Ct=Object(wt.a)(function(e){return e.tasks},function(e){return Object.values(e)}),Tt=Object(wt.a)(Ct,function(e){return e.filter(function(e){return"active"===e.state})}),St=Object(wt.a)(Ct,function(e){return e.filter(function(e){return"finished"===e.state})}),Pt=Object(wt.a)(function(e){return e.project.list},function(e){var t=Object.values(e);return t.unshift({id:"all",name:"\u0412\u0441\u0435",slug:"all"}),t}),Nt={updProjectTask:ae},Dt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).renderMenuItem=function(){return a.props.projectList.filter(function(e){return"all"!==e.slug}).map(function(e){return r.a.createElement(ot.a,{key:e.id,value:e},e.name)})},a.handleChange=function(e){(0,a.props.updProjectTask)({project:e.target.value})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.project;return r.a.createElement("div",{className:"additional-options"},r.a.createElement(P.a,{className:t.formControl},r.a.createElement(D.a,{htmlFor:"project"},"\u041f\u0440\u043e\u0435\u043a\u0442"),r.a.createElement(rt.a,{value:a,renderValue:function(e){return e.name},onChange:this.handleChange,name:"project",input:r.a.createElement(N.a,{id:"project"})},this.renderMenuItem())))}}]),t}(n.Component),Ut=Object(h.b)(function(e){return{project:e.addTask.project,projectList:Pt(e)}},Nt)(Object(v.a)(function(e){return{formControl:{minWidth:200}}})(Dt)),Rt=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.maxWidth,a=e.fullWidth,n=e.open,o=e.onCloseDialog,i=e.onSaveTask,c=e.task,s=e.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(et.a,{classes:{paperFullWidth:s.paperFullWidth},fullWidth:a,maxWidth:t,open:n,onClose:o,"aria-labelledby":"max-width-dialog-title"},r.a.createElement(nt.a,{id:"max-width-dialog-title",className:s.title},c.text),r.a.createElement(at.a,null,r.a.createElement(pt,null),r.a.createElement("div",{className:"options-container"},r.a.createElement(st,null),r.a.createElement(xt,null),r.a.createElement(Ut,null))),r.a.createElement(tt.a,null,r.a.createElement(j.a,{onClick:i,color:"primary"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),r.a.createElement(j.a,{onClick:o,color:"secondary"},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"))))}}]),t}(n.Component);Rt.defaultProps={maxWidth:"md",fullWidth:!0};var _t=Object(v.a)(function(e){return{paperFullWidth:{margin:"10px"},title:{wordBreak:"break-all"}}})(Rt),At=a(801),Vt=a(369),It=a(348),Ft=a.n(It),Wt=a(846),Lt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={anchorEl:null},a.renderActions=function(){var e=a.props,t=e.actions,n=e.classes;return t.map(function(e){return r.a.createElement(ot.a,{className:n.root,key:e.value,selected:!1,onClick:function(){return a.handleAction(e.action)}},r.a.createElement(Wt.a,{classes:{root:n.icon}},e.icon),r.a.createElement(Ke.a,{className:n.itemText,inset:!0,primary:e.label}))})},a.handleAction=function(e){a.handleClose(),e()},a.handleClick=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){a.setState({anchorEl:null})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.anchorEl,t=Boolean(e);return r.a.createElement("div",null,r.a.createElement(At.a,{"aria-label":"More","aria-owns":t?"long-menu":void 0,"aria-haspopup":"true",onClick:this.handleClick},r.a.createElement(Ft.a,null)),r.a.createElement(Vt.a,{id:"long-menu",anchorEl:e,open:t,onClose:this.handleClose,PaperProps:{style:{maxHeight:135,width:200}}},this.renderActions()))}}]),t}(n.Component),Bt=Object(v.a)(function(e){return{root:{padding:"7px"},itemText:{padding:0},icon:{minWidth:"40px"}}})(Lt),Mt=a(349),qt=a.n(Mt),Kt=(a(792),a(795),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.date,a=e.tz,n=e.format;return t?r.a.createElement(qt.a,{element:"span",date:t,format:n,tz:a,locale:"ru"}):null}}]),t}(n.Component));Kt.defaultProps={tz:null,format:"DD MMMM YYYY HH:mm"};var zt=Kt,Gt={updEditValue:Z,asyncUpdateTask:ke,updPriorityTask:ee,updPeriodOfExecution:te,updProjectTask:ae,setNotification:pe},Ht=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={isVisibleDialog:!1,priorityList:Qe(),actions:[{label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",value:"edit",icon:r.a.createElement($e.a,null),action:function(){return a.openDialog()}},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",value:"delete",icon:r.a.createElement(Ye.a,null),action:function(){return a.props.onRemove(a.props.task.id)}}]},a.openDialog=function(){var e=a.props,t=e.updEditValue,n=e.updPriorityTask,r=e.updPeriodOfExecution,o=e.updProjectTask,i=e.task;t({text:i.text}),n({priority:i.priority?i.priority:""}),r({executionDate:i.executionDate?i.executionDate:null}),o({project:i.project?i.project:""}),a.setState({isVisibleDialog:!0})},a.closeDialog=function(){var e=a.props,t=e.updEditValue,n=e.updPriorityTask,r=e.updPeriodOfExecution,o=e.updProjectTask;t({text:""}),n({priority:""}),r({executionDate:null}),o({project:""}),a.setState({isVisibleDialog:!1})},a.applyChanges=function(e){var t=a.props,n=t.textValue,r=t.setNotification,o=t.asyncUpdateTask,i=t.token,c=t.syncTasks,s=t.priority,l=t.executionDate,u=t.project;n&&""!==n?(o({task:e=Object(U.a)({},e,{text:n,priority:s,executionDate:l,project:u})}).then(function(e){i&&c()}),a.closeDialog()):r({open:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438",type:"error"})},a.buildSecondaryTaskText=function(e){var t=a.props.classes;return[{label:"\u0421\u0440\u043e\u043a \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f: ",value:e.executionDate?r.a.createElement(zt,{date:e.executionDate}):null},{label:"\u041f\u0440\u043e\u0435\u043a\u0442: ",value:e.project&&e.project.name?e.project.name:null}].map(function(e){return e.value?r.a.createElement("span",{className:t.secondaryTextContainer,key:e.label},r.a.createElement("span",{className:t.secondaryTextLabel},e.label),e.value):null})},a.renderIconGroup=function(e){var t=a.state.actions;return r.a.createElement(Bt,{actions:t})},a.renderContent=function(){var e=a.state.priorityList,t=a.props,n=t.classes,o=t.task,i=t.onChangeState,c="active"===o.state,s=c?"action":"disabled",l=a.buildSecondaryTaskText(o),u=r.a.createElement(qe.a,{classes:{root:n.avatarRoot}},r.a.createElement(ze.a,{className:n.avatar},r.a.createElement(He.a,{color:s}))),p=e.find(function(e){return parseInt(e.code)===parseInt(o.priority)}),d={};return p&&(d={minWidth:"20px",width:"20px",height:"20px",borderRadius:"50%",backgroundColor:p.color,margin:"0 10px",boxShadow:"2px 3px 10px 0px #726f6f"}),r.a.createElement("div",{className:n.contentContainer},p?r.a.createElement("div",{style:d}):u,r.a.createElement("div",{className:n.contentContainer},r.a.createElement(Ke.a,{classes:{primary:c?n.itemContentActive:n.itemContentDisabled},primary:o.text,onClick:function(){return i(o)},secondary:l})))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.task,n=t.classes,o=this.state.isVisibleDialog;return r.a.createElement("div",null,r.a.createElement(Me.a,{className:n.root},this.renderContent(),this.renderIconGroup(a)),r.a.createElement(_t,{open:o,onCloseDialog:this.closeDialog,task:a,onSaveTask:function(){return e.applyChanges(a)}}))}}]),t}(n.Component),Jt=Object(h.b)(function(e){var t=e.addTask;return{token:e.user.token,priority:t.priority,textValue:t.editValue,executionDate:t.executionDate,project:t.project}},Gt)(Object(v.a)(function(e){return{root:{width:"100%",wordBreak:"break-all",margin:"5px 0",padding:0},itemContentActive:{cursor:"pointer",color:"black"},itemContentDisabled:{cursor:"pointer",color:"gray",textDecoration:"line-through"},avatarRoot:{minWidth:"40px"},avatar:{backgroundColor:"white",height:"30px",marginRight:0},input:{margin:"0",width:"100%"},contentContainer:{width:"100%",minHeight:"20px",height:"auto",display:"flex",alignItems:"center"},secondaryTextContainer:{marginRight:"10px"},secondaryTextLabel:{fontWeight:"500"}}})(Ht)),Yt=a(837);function Xt(e){var t={asyncSyncTasks:ye},a=function(t){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(l.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).withSyncTasks=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=t.props,n=a.token,r=a.projectList,o=a.match,i=a.asyncSyncTasks;if(n){var c=e||o&&o.params&&o.params.project;if("all"===c)i({token:n});else{var s=r.find(function(e){return e.slug===c});i({token:n,field:"project.id",value:s&&s.id})}}},t}return Object(p.a)(a,t),Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(e,Object.assign({syncTasks:this.withSyncTasks,test:"test"},this.props))}}]),a}(n.Component);return Object(m.e)(Object(h.b)(function(e){return{token:e.user.token,projectList:Pt(e)}},t)(a))}var $t=Xt(Jt),Qt=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"renderTasks",value:function(){var e=this.props,t=e.tasks,a=e.onRemove,n=e.onChangeState,o=e.classes;return t&&0!==t.length?t.map(function(e){return r.a.createElement($t,{key:e.id,task:e,onRemove:a,onChangeState:n})}):r.a.createElement("div",{className:o.textContainer},"\u041f\u043e\u043a\u0430 \u043d\u0435\u0442 \u043d\u0438 \u043e\u0434\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438, \u043f\u043e\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u044d\u0442\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c!")}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Yt.a,null,this.renderTasks()))}}]),t}(n.Component),Zt=Object(v.a)({textContainer:{margin:"10px",display:"flex",textAlign:"center",justifyContent:"center"}})(Qt),ea=a(859),ta=a(848),aa=a(849),na=a(137),ra=a(185),oa=a.n(ra),ia=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement(ea.a,null,r.a.createElement(ta.a,{expandIcon:r.a.createElement(oa.a,null)},r.a.createElement(na.a,{className:e.heading,variant:"caption"},"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e")),r.a.createElement(aa.a,{className:"options-container"},r.a.createElement(st,null),r.a.createElement(xt,null),r.a.createElement(Ut,null))))}}]),t}(n.Component),ca=Object(v.a)(function(e){return{root:{width:"100%",marginBottom:"20px",padding:"0 10px",boxSizing:"border-box"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}})(ia),sa=a(850),la=a(856),ua=a(186),pa=a.n(ua),da=a(118),ma={updText:Q,asyncAddTask:function(e){var t=e.task;return function(){var e=Object(w.a)(x.a.mark(function e(a){var n,r;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Task is required field");case 2:return e.prev=2,a(ne({task:t})),n="".concat(B,"/tasks/addTask"),e.next=7,L({url:n,method:"PUT",body:t});case 7:return r=e.sent,e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(2),console.error("Error at adding a task: ",e.t0);case 14:case"end":return e.stop()}},e,null,[[2,11]])}));return function(t){return e.apply(this,arguments)}}()}},ha=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleKeyPress=function(e){var t=e;"Enter"===t.key&&a.addTask(t)},a.valueHandler=function(e){var t=e.target.value;(0,a.props.updText)({text:t})},a.addTask=function(e){e.preventDefault();var t=a.props,n=t.textValue,r=t.priority,o=t.executionDate,i=t.project,c=t.asyncAddTask,s=t.syncTasks,l=t.token;n&&""!==n.trim()&&c({task:{id:Object(da.uniqueId)(),text:n,state:"active",priority:r,executionDate:o,project:i},token:l}).then(function(e){l&&s()})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.textValue;return r.a.createElement("div",null,r.a.createElement("div",{className:"input-container"},r.a.createElement(P.a,{className:""},r.a.createElement(la.a,{id:"outlined-name",label:"\u0427\u0442\u043e \u043d\u0443\u0436\u043d\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c?",className:t.textField,value:a,onChange:this.valueHandler,onKeyPress:this.handleKeyPress,margin:"normal",variant:"outlined"})),r.a.createElement(sa.a,{onClick:this.addTask,size:"medium",color:"primary","aria-label":"Add",className:""},r.a.createElement(pa.a,null))),r.a.createElement(ca,null))}}]),t}(n.Component),fa=Object(h.b)(function(e){var t=e.addTask,a=e.user;return{textValue:t.value,priority:t.priority,executionDate:t.executionDate,project:t.project,token:a.token}},ma)(Object(v.a)(function(e){return{textField:{marginTop:0,marginBottom:0,marginLeft:e.spacing(),marginRight:"20px"}}})(ha)),ba=a(189),va={updActiveTaskTab:$},ja=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={value:0},a.handleChange=function(e,t){var n=a.props.updActiveTaskTab;a.setState({value:t}),n({value:{0:"active",1:"finished",2:"all"}[t]})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(ba.a,{square:!0},r.a.createElement(Le.a,{value:this.state.value,onChange:this.handleChange,variant:"fullWidth",indicatorColor:"secondary",textColor:"secondary"},r.a.createElement(Be.a,{label:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435"}),r.a.createElement(Be.a,{label:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435"}),r.a.createElement(Be.a,{label:"\u0412\u0441\u0435"})))}}]),t}(n.Component),ga=Object(h.b)(function(e){return{UIState:e.UIState}},va)(ja),Oa=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.openDialog;return r.a.createElement("div",null,r.a.createElement(sa.a,{variant:"extended",size:"medium",color:"secondary","aria-label":"Add",className:t.margin,onClick:a},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442",r.a.createElement(pa.a,{className:t.extendedIcon})))}}]),t}(n.Component),Ea=Object(v.a)(function(e){return{margin:{margin:"8px 8px 8px 0"},extendedIcon:{marginLeft:e.spacing(1)}}})(Oa),ya={updProjectName:je},ka=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleKeyPress=function(e){var t=e,n=a.props.onSaveProject;"Enter"===t.key&&n()},a.handleChange=function(e){var t=e.target.value;(0,a.props.updProjectName)({name:t})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.projectName;return r.a.createElement(P.a,{className:S()(t.margin,t.textField)},r.a.createElement(D.a,{htmlFor:"project-name"},"\u041f\u0440\u043e\u0435\u043a\u0442"),r.a.createElement(N.a,{id:"project-name",type:"text",value:a,onChange:this.handleChange,onKeyPress:this.handleKeyPress}))}}]),t}(n.Component),xa=Object(h.b)(function(e){return{projectName:e.project.name}},ya)(Object(v.a)(function(e){return{margin:{margin:e.spacing(1)},textField:{width:"100%",margin:"10px 0"}}})(ka)),wa=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.maxWidth,n=e.fullWidth,o=e.open,i=e.onCloseDialog,c=e.onSaveProject;return r.a.createElement(r.a.Fragment,null,r.a.createElement(et.a,{classes:{paperFullWidth:t.paperFullWidth},fullWidth:n,maxWidth:a,open:o,onClose:i,"aria-labelledby":"max-width-dialog-title"},r.a.createElement(nt.a,{id:"max-width-dialog-title",className:t.title},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442"),r.a.createElement(at.a,null,r.a.createElement("div",{className:"options-container"},r.a.createElement(xa,{onSaveProject:c}))),r.a.createElement(tt.a,null,r.a.createElement(j.a,{onClick:c,color:"primary"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),r.a.createElement(j.a,{onClick:i,color:"secondary"},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"))))}}]),t}(n.Component);wa.defaultProps={maxWidth:"md",fullWidth:!0};var Ca=Object(v.a)(function(e){return{paperFullWidth:{margin:"10px"},title:{wordBreak:"break-all"}}})(wa),Ta=a(862),Sa=a(354),Pa=a.n(Sa),Na=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.maxWidth,n=e.fullWidth,o=e.open,i=e.onCloseDialog,c=e.onDeleteProject,s=e.projectName;return r.a.createElement(r.a.Fragment,null,r.a.createElement(et.a,{classes:{paperFullWidth:t.paperFullWidth},fullWidth:n,maxWidth:a,open:o,onClose:i,"aria-labelledby":"max-width-dialog-title"},r.a.createElement(nt.a,{id:"max-width-dialog-title",className:t.title},s),r.a.createElement(at.a,null,r.a.createElement("div",{className:"options-container"},"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442 \u0438 \u0432\u0441\u0435 \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0441 \u043d\u0438\u043c \u0437\u0430\u0434\u0430\u0447\u0438?")),r.a.createElement(tt.a,null,r.a.createElement(j.a,{onClick:function(){return c()},color:"primary"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),r.a.createElement(j.a,{onClick:i,color:"secondary"},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"))))}}]),t}(n.Component);Na.defaultProps={maxWidth:"sm",fullWidth:!0};var Da=Object(v.a)(function(e){return{paperFullWidth:{margin:"10px"},title:{wordBreak:"break-all"}}})(Na),Ua={replaceTasks:ie},Ra=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={activeProject:"",idVisibleDialog:null},a.openDialog=function(e){a.setState({idVisibleDialog:e})},a.closeDialog=function(){a.setState({idVisibleDialog:null})},a.handleClick=function(e,t){e.preventDefault();var n=a.props,r=n.history,o=n.syncTasks,i=n.token,c=n.replaceTasks;a.setState({activeProject:t.id}),r.push({pathname:"/todo/tasks/".concat(t.slug)}),c({tasks:{}}),i&&o(t.slug)},a.deleteProject=function(e){var t=a.props.onDeleteProject;a.closeDialog(),t(e)},a.renderList=function(){var e=a.props,t=e.projectList,n=e.classes,o=a.state,i=o.activeProject,c=o.idVisibleDialog;return t.length?t.map(function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(Ta.a,{onClick:function(t){return a.handleClick(t,e)},onDelete:"all"===e.id?null:function(){return a.openDialog(e.id)},className:n.chip,color:"primary",label:e.name,variant:i===e.id?"default":"outlined",icon:r.a.createElement(Pa.a,null)}),r.a.createElement(Da,{projectName:e.name,open:c===e.id,onCloseDialog:function(){return a.closeDialog()},onDeleteProject:function(){return a.deleteProject(e.id)}}))}):null},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.state.activeProject,t=this.props,a=t.projectList,n=t.match;if(a&&a.length&&n&&n.params&&!e){var r=n.params.project,o=a.find(function(e){return e.slug===r});o&&this.setState({activeProject:o.id})}}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},this.renderList())}}]),t}(n.Component),_a=Xt(Object(m.e)(Object(h.b)(function(e){var t=e.user;return{projectList:Pt(e),token:t.token}},Ua)(Object(v.a)(function(){return{root:{marginTop:"10px",display:"flex",flexFlow:"row wrap"},chip:{margin:"0 10px 10px 0"},link:{textDecoration:"none"}}})(Ra)))),Aa={createProject:function(e){var t=e.project;return function(){var e=Object(w.a)(x.a.mark(function e(a){var n,r;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Missing required fields");case 2:return e.prev=2,a(ge({project:t})),n="".concat(B,"/projects/create"),e.next=7,L({url:n,method:"POST",body:Object(U.a)({},t)});case 7:return r=e.sent,e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(2),console.error(e.t0);case 14:case"end":return e.stop()}},e,null,[[2,11]])}));return function(t){return e.apply(this,arguments)}}()},asyncDeleteProject:function(e){var t=e.id;return function(){var e=Object(w.a)(x.a.mark(function e(a){var n,r;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Missing required fields");case 2:return e.prev=2,a(Oe({id:t})),n="".concat(B,"/projects/delete?id=").concat(t),e.next=7,L({url:n,method:"DELETE"});case 7:return r=e.sent,e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(2),console.error(e.t0);case 14:case"end":return e.stop()}},e,null,[[2,11]])}));return function(t){return e.apply(this,arguments)}}()},asyncDeleteTasksByProject:function(e){var t=e.projectId;return function(){var e=Object(w.a)(x.a.mark(function e(a){var n,r;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Project id is required field");case 2:return e.prev=2,n="".concat(B,"/tasks/deleteByProjectId?projectId=").concat(t),e.next=6,L({url:n,method:"DELETE"});case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(2),console.error("Error at deleting tasks: ",e.t0);case 13:case"end":return e.stop()}},e,null,[[2,10]])}));return function(t){return e.apply(this,arguments)}}()},getProjects:we,syncTasks:ye},Va=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isVisibleDialog:!1},a.openDialog=function(){a.setState({isVisibleDialog:!0})},a.closeDialog=function(){a.setState({isVisibleDialog:!1})},a.createProject=function(){var e=a.props,t=e.projectName,n=e.createProject,r=e.token,o=e.getProjects;t&&(n({project:{name:t,id:Object(da.uniqueId)(),slug:Ze(t)}}).then(function(e){r&&o({token:r})}),a.closeDialog())},a.deleteProject=function(e){var t=a.props,n=t.asyncDeleteProject,r=t.asyncDeleteTasksByProject,o=t.getProjects,i=t.syncTasks,c=t.token,s=t.history;r({projectId:e}).then(function(t){n({id:e}).then(function(e){c&&(i({token:c}),o({token:c}),s.replace({pathname:"/todo/tasks/all"}))})})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state.isVisibleDialog;return r.a.createElement("div",{className:e.root},r.a.createElement(ea.a,null,r.a.createElement(ta.a,{expandIcon:r.a.createElement(oa.a,null)},r.a.createElement(na.a,{className:e.heading,variant:"caption"},"\u041f\u0440\u043e\u0435\u043a\u0442\u044b")),r.a.createElement(aa.a,{className:"options-container"},r.a.createElement(Ea,{openDialog:this.openDialog}),r.a.createElement(_a,{onDeleteProject:this.deleteProject}),r.a.createElement(Ca,{open:t,onSaveProject:this.createProject,onCloseDialog:this.closeDialog}))))}}]),t}(n.Component),Ia=Object(m.e)(Object(h.b)(function(e){var t=e.project,a=e.user;return{projectName:t.name,projectList:t.list,token:a.token}},Aa)(Object(v.a)(function(e){return{root:{boxSizing:"border-box",width:"100%",marginBottom:"20px",padding:"0 10px"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}})(Va))),Fa=Xt(fa),Wa={updText:Q,delTask:re,updTask:oe,replaceTasks:ie,asyncDeleteTask:function(e){var t=e.id;return function(){var e=Object(w.a)(x.a.mark(function e(a){var n,r;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Id is required field");case 2:return e.prev=2,a(re({id:t})),n="".concat(B,"/tasks/deleteTask"),e.next=7,L({url:n,method:"DELETE",body:{id:t}});case 7:return r=e.sent,e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(2),console.error("Error at deleting task: ",e.t0);case 14:case"end":return e.stop()}},e,null,[[2,11]])}));return function(t){return e.apply(this,arguments)}}()},asyncUpdateTask:ke,getProjects:we},La=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).changedState=function(e){var t=a.props,n=t.asyncUpdateTask,r=t.syncTasks,o="active"===e.state?"finished":"active";n({task:e=Object(U.a)({},e,{state:o})}).then(function(e){r()})},a.removeTask=function(e){var t=a.props,n=t.asyncDeleteTask,r=t.syncTasks;n({id:e}).then(function(e){r()})},a.renderList=function(){var e=a.props,t=e.tasks,n=e.UIState,o=e.activeTasks,i=e.finishedTasks,c=e.classes,s=[];switch(n.activeTaskTable){case"active":s=o;break;case"finished":s=i;break;default:s=t}return"request"===n.syncTasksState&&0===s.length?r.a.createElement("div",{className:c.loaderContainer},r.a.createElement(Ce,null)):r.a.createElement(Zt,{tasks:s,onRemove:a.removeTask,onChangeState:a.changedState})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.getProjects,a=e.token,n=e.syncTasks;a&&t({token:a}).then(function(e){n()})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(Ia,null),r.a.createElement(Fa,null)),r.a.createElement(ga,null),this.renderList())}}]),t}(n.Component),Ba=Object(m.e)(Object(h.b)(function(e){var t=e.text,a=e.UIState,n=e.user;return{text:t,tasks:Ct(e),activeTasks:Tt(e),finishedTasks:St(e),UIState:a,token:n.token}},Wa)(Object(v.a)(function(e){return{textField:{marginTop:0,marginBottom:0,marginLeft:e.spacing(),marginRight:"20px"},loaderContainer:{marginTop:"30px",display:"flex",justifyContent:"center"}}})(La)));var Ma=function(e){var t=e.children,a=e.dir;return r.a.createElement(na.a,{component:"div",dir:a,style:{padding:"24px 0"}},t)},qa=Xt(Ba),Ka=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e,t){a.props.history.push({pathname:"/todo/".concat(1===t?"notes":"tasks/all")}),a.setState({value:t})},a.handleChangeIndex=function(e){a.setState({value:e})};var n=e.history,r=e.match,o=r.params&&r.params.type,i=V("token"),s=V("user");return a.state={value:"tasks"===o?0:1,allowRouteTypes:["tasks","notes"]},i&&s||n.replace("/"),o&&a.state.allowRouteTypes.includes(o)||n.replace("/todo/tasks/all"),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.theme;return r.a.createElement("div",{className:t.root},r.a.createElement(We.a,{position:"static",color:"default"},r.a.createElement(Le.a,{value:this.state.value,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},r.a.createElement(Be.a,{label:"\u0417\u0430\u0434\u0430\u0447\u0438"}),r.a.createElement(Be.a,{label:"\u0417\u0430\u043c\u0435\u0442\u043a\u0438"}))),r.a.createElement(Fe.a,{axis:"rtl"===a.direction?"x-reverse":"x",index:this.state.value,onChangeIndex:this.handleChangeIndex},r.a.createElement(Ma,{dir:a.direction},r.a.createElement(qa,null)),r.a.createElement(Ma,{dir:a.direction},"\u0412 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435...")))}}]),t}(n.Component),za=Object(v.a)(function(e){return{root:{margin:"0 auto",backgroundColor:e.palette.background.paper,maxWidth:1e3}}},{withTheme:!0})(Ka),Ga={updFeedbackTitle:me,updFeedbackContent:he,updFeedbackEmail:fe,sendFeedback:function(e){var t=e.data;return function(){var e=Object(w.a)(x.a.mark(function e(a){var n,r;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Missing required fields");case 2:return e.prev=2,n="".concat(B,"/user/sendFeedback"),e.next=6,L({url:n,method:"POST",body:t});case 6:return r=e.sent,a(be({title:"",content:"",email:""})),e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(2),console.error(e.t0);case 14:case"end":return e.stop()}},e,null,[[2,11]])}));return function(t){return e.apply(this,arguments)}}()},setNotification:pe},Ha=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isValidEmail:!1,validationMessage:""},a.goBack=function(){a.props.history.goBack()},a.handleChange=function(e,t){var n=e.target.value,r=a.props,o=r.updFeedbackTitle,i=r.updFeedbackContent,c=r.updFeedbackEmail;if("email"===t){var s=De.a.isEmail(n)&&!De.a.isEmpty(n);a.setState({isValidEmail:s,validationMessage:s?"":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email"})}var l={title:function(e){return o({title:e})},content:function(e){return i({content:e})},email:function(e){return c({email:e})}};t&&["title","content","email"].includes(t)&&l[t](n)},a.sendFeedback=function(){var e=a.props,t=e.title,n=e.content,r=e.email,o=e.sendFeedback,i=e.setNotification,c=e.history;o({data:{title:t,content:n,email:r}}),i({open:!0,message:"\u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u0438\u043c \u0437\u0430 \u0443\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u043f\u0438\u0441\u044c\u043c\u043e \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e.",type:"success"}),c.push("/")},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.title,o=t.content,i=t.email,c=this.state,s=c.validationMessage,l=c.isValidEmail,u=l&&n&&o;return r.a.createElement("div",{className:a.root},r.a.createElement(la.a,{id:"standard-dense",label:"\u0422\u0435\u043c\u0430",value:n,onChange:function(t){return e.handleChange(t,"title")},className:S()(a.textField,a.dense),margin:"dense"}),r.a.createElement(la.a,{id:"standard-multiline-static",label:"\u041e \u0447\u0435\u043c \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c?",multiline:!0,rows:"4",value:o,onChange:function(t){return e.handleChange(t,"content")},className:a.textField,margin:"normal"}),r.a.createElement(la.a,{id:"standard-dense",label:"\u0412\u0430\u0448 email \u0434\u043b\u044f \u043e\u0442\u0432\u0435\u0442\u0430",value:i,onChange:function(t){return e.handleChange(t,"email")},className:S()(a.textField,a.dense),margin:"dense"}),r.a.createElement(Re,{message:s,isVisible:!l}),r.a.createElement("div",{className:a.btnContainer},r.a.createElement(j.a,{variant:"outlined",color:"primary",onClick:this.sendFeedback,disabled:!u,className:a.sendButton},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"),r.a.createElement(j.a,{variant:"outlined",color:"secondary",onClick:this.goBack},"\u041d\u0430\u0437\u0430\u0434")))}}]),t}(n.Component),Ja=Object(h.b)(function(e){var t=e.feedback;return{title:t.title,content:t.content,email:t.email}},Ga)(Object(v.a)(function(e){return{root:{margin:"50px auto",backgroundColor:e.palette.background.paper,maxWidth:1e3,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},textField:{width:"80%"},dense:{marginTop:19},btnContainer:{display:"flex",justifyContent:"center",marginTop:"30px"},sendButton:{marginRight:"20px"}}})(Ha)),Ya=a(838),Xa=a(357),$a=a.n(Xa),Qa=a(355),Za=a.n(Qa),en=a(356),tn=a.n(en),an={logout:function(e){var t=e.token;return function(){var e=Object(w.a)(x.a.mark(function e(a){var n,r;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Token is required field");case 2:return e.prev=2,n="".concat(B,"/user/logout"),e.next=6,L({url:n,method:"POST"});case 6:return(r=e.sent)&&200===r.code&&(I("token"),I("user"),a(K({token:""})),a(z({user:null})),a(ie({tasks:{}}))),e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(2),console.error(e.t0);case 14:case"end":return e.stop()}},e,null,[[2,11]])}));return function(t){return e.apply(this,arguments)}}()},setNotification:pe,changeVisibleSidebar:de},nn=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null},a.handleSidebar=function(){(0,a.props.changeVisibleSidebar)({isVisibleSidebar:!0})},a.handleMenu=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){a.setState({anchorEl:null})},a.logout=Object(w.a)(x.a.mark(function e(){var t,n,r,o,i,c;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.logout,r=t.setNotification,o=t.token,i=t.history,e.next=3,n({token:o});case 3:(c=e.sent)&&200===c.code?(r({open:!0,message:"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0432\u044b\u0448\u043b\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430",type:"success"}),i.replace("/")):r({open:!0,message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u044b\u0445\u043e\u0434\u0435 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430",type:"error"}),a.handleClose();case 6:case"end":return e.stop()}},e)})),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.token,n=e.currentUser,o=this.state.anchorEl,i=Boolean(o),c=Boolean(a&&n);return r.a.createElement("div",{className:t.root},r.a.createElement(We.a,{position:"static"},r.a.createElement(Ya.a,null,r.a.createElement(At.a,{className:t.menuButton,onClick:this.handleSidebar,color:"inherit","aria-label":"Menu"},r.a.createElement(Za.a,null)),r.a.createElement(na.a,{variant:"h6",color:"inherit",className:t.grow},r.a.createElement(d.b,{className:t.link,to:{pathname:"/"}},"The Tasker")),c&&r.a.createElement("div",null,r.a.createElement(At.a,{"aria-owns":i?"menu-appbar":void 0,"aria-haspopup":"true",onClick:this.handleMenu,color:"inherit"},r.a.createElement(tn.a,null)),r.a.createElement(Vt.a,{id:"menu-appbar",anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:i,onClose:this.handleClose},r.a.createElement(ot.a,{onClick:this.logout},r.a.createElement($a.a,{className:t.exitIcon}),"\u0412\u044b\u0439\u0442\u0438"))))))}}]),t}(n.Component),rn=Object(h.b)(function(e){var t=e.user;return{token:t.token,currentUser:t.current}},an)(Object(v.a)({root:{flexGrow:1},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},exitIcon:{marginRight:"10px"},link:{color:"white",textDecoration:"none"}})(nn)),on=a(860),cn=a(370),sn=a(358),ln=a.n(sn),un=a(359),pn=a.n(un),dn=a(360),mn=a.n(dn),hn=a(361),fn=a.n(hn),bn=a(362),vn=a.n(bn),jn=a(363),gn=a.n(jn),On=a(364),En=a.n(On),yn=a(852),kn={success:ln.a,warning:pn.a,error:mn.a,info:fn.a},xn=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.className,n=e.message,o=e.onClose,i=e.variant,c=Object(cn.a)(e,["classes","className","message","onClose","variant"]),s=kn[i];return r.a.createElement(yn.a,Object.assign({className:S()(t[i],a),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:t.message},r.a.createElement(s,{className:S()(t.icon,t.iconVariant)}),n),action:[r.a.createElement(At.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:o},r.a.createElement(En.a,{className:t.icon}))]},c))}}]),t}(n.Component),wn=Object(v.a)(function(e){return{success:{backgroundColor:vn.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.dark},warning:{backgroundColor:gn.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}})(xn),Cn={setNotificationState:ue},Tn=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleClose=function(e,t){var n=a.props.setNotificationState;"clickaway"!==t&&n({notifState:!1})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.notificationType,a=e.notificationMessage,n=e.openNotification;return r.a.createElement("div",null,r.a.createElement(on.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:n,autoHideDuration:6e3,onClose:this.handleClose},r.a.createElement(wn,{onClose:this.handleClose,variant:t,message:a})))}}]),t}(n.Component),Sn=Object(h.b)(function(e){var t=e.notifications;return{openNotification:t.open,notificationMessage:t.message,notificationType:t.type}},Cn)(Object(v.a)(function(e){return{margin:{margin:e.spacing(1)}}})(Tn)),Pn=a(858),Nn=a(365),Dn=a.n(Nn),Un={changeVisibleSidebar:de},Rn=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).toggleDrawer=function(e){return function(){(0,a.props.changeVisibleSidebar)({isVisibleSidebar:e})}},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.isVisibleSidebar,n=r.a.createElement("div",{className:t.list},r.a.createElement(Yt.a,null,["\u0421\u0432\u044f\u0437\u0430\u0442\u044c\u0441\u044f \u0441 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u043c"].map(function(e){return r.a.createElement(Me.a,{button:!0,key:e},r.a.createElement(Wt.a,{classes:{root:t.icon}},r.a.createElement(Dn.a,null)),r.a.createElement(d.b,{className:t.link,to:{pathname:"/feedback"}},r.a.createElement(Ke.a,{classes:{primary:t.text},primary:e})))})));return r.a.createElement("div",null,r.a.createElement(Pn.a,{open:a,onClose:this.toggleDrawer(!1),onOpen:this.toggleDrawer(!0)},r.a.createElement("div",{className:t.sidebarHeader},"The Tasker"),r.a.createElement("div",{tabIndex:0,role:"button",onClick:this.toggleDrawer(!1),onKeyDown:this.toggleDrawer(!1)},n)))}}]),t}(n.Component),_n=Object(h.b)(function(e){return{isVisibleSidebar:e.UIState.isVisibleSidebar}},Un)(Object(v.a)({text:{padding:"0",letterSpacing:0,color:"black"},icon:{minWidth:"40px"},list:{width:300},sidebarHeader:{display:"flex",justifyContent:"center",alignItems:"center",color:"white",fontSize:"1.25rem",fontWeight:"500",height:"64px",backgroundColor:"#3f51b5",boxShadow:"0px 2px 4px -1px rgba(0,0,0,0.2), 0px 4px 5px 0px rgba(0,0,0,0.14), 0px 1px 10px 0px rgba(0,0,0,0.12)"},link:{textDecoration:"none"}})(Rn)),An={updUserToken:K,updUserCurrent:z},Vn=function(e){function t(e){var a;Object(c.a)(this,t),a=Object(l.a)(this,Object(u.a)(t).call(this,e));var n=e.updUserToken,r=e.updUserCurrent,o=V("token"),i=new b.a(_.secretKey),s=V("user");if(s&&o){try{s=JSON.parse(i.decrypt(s))}catch(p){console.error(p)}n({token:o}),r({user:s})}return a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement(m.a,{path:"*",component:rn}),r.a.createElement(m.a,{path:"/",exact:!0,component:y}),r.a.createElement(m.a,{path:"/login",component:Pe}),r.a.createElement(m.a,{path:"/registration",component:Ve}),r.a.createElement(m.a,{path:["/todo/:type/:project","/todo"],component:za}),r.a.createElement(m.a,{path:"/feedback",component:Ja}),r.a.createElement(_n,null),r.a.createElement(Sn,null))}}]),t}(n.Component),In=Object(h.b)(function(e){var t=e.user,a=t.current;return{token:t.token,currentUser:a}},An)(Vn),Fn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Wn(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Ln,Bn,Mn,qn,Kn,zn,Gn,Hn,Jn,Yn=a(116),Xn=a(366),$n=a(854),Qn=Object($n.a)((Ln={},Object(C.a)(Ln,Q,function(e,t){var a=t.payload.text;return Object(U.a)({},e,{value:a})}),Object(C.a)(Ln,Z,function(e,t){var a=t.payload.text;return Object(U.a)({},e,{editValue:a})}),Object(C.a)(Ln,ne,function(e){return Object(U.a)({},e,{value:"",priority:"",executionDate:null,project:""})}),Object(C.a)(Ln,ee,function(e,t){var a=t.payload.priority;return Object(U.a)({},e,{priority:a})}),Object(C.a)(Ln,te,function(e,t){var a=t.payload.executionDate;return Object(U.a)({},e,{executionDate:a})}),Object(C.a)(Ln,ae,function(e,t){var a=t.payload.project;return Object(U.a)({},e,{project:a})}),Ln),{value:"",editValue:"",priority:"",executionDate:null,project:""}),Zn=Object($n.a)((Bn={},Object(C.a)(Bn,ne,function(e,t){var a=t.payload.task;return Object(U.a)(Object(C.a)({},a.id,a),e)}),Object(C.a)(Bn,re,function(e,t){var a=t.payload.id;return Object(da.omit)(e,[a])}),Object(C.a)(Bn,oe,function(e,t){var a=t.payload.task;return Object(U.a)({},e,Object(C.a)({},a.id,a))}),Object(C.a)(Bn,ie,function(e,t){return t.payload.tasks}),Bn),{}),er=Object($n.a)((Mn={},Object(C.a)(Mn,$,function(e,t){var a=t.payload.value,n=e.activeTaskTable;return n=a,Object(U.a)({},e,{activeTaskTable:n})}),Object(C.a)(Mn,ce,function(e,t){var a=t.payload.authState;return Object(U.a)({},e,{authUserState:a})}),Object(C.a)(Mn,se,function(e,t){var a=t.payload.registrationState;return Object(U.a)({},e,{registrationUserState:a})}),Object(C.a)(Mn,le,function(e,t){var a=t.payload.syncTasksState;return Object(U.a)({},e,{syncTasksState:a})}),Object(C.a)(Mn,de,function(e,t){var a=t.payload.isVisibleSidebar;return Object(U.a)({},e,{isVisibleSidebar:a})}),Object(C.a)(Mn,Ee,function(e,t){var a=t.payload.syncProjectsState;return Object(U.a)({},e,{syncProjectsState:a})}),Mn),{activeTaskTable:"active",authUserState:"none",registrationUserState:"none",syncTasksState:"none",isVisibleSidebar:!1,syncProjectsState:"none"}),tr=Object($n.a)((qn={},Object(C.a)(qn,K,function(e,t){var a=t.payload.token;return Object(U.a)({},e,{token:a})}),Object(C.a)(qn,z,function(e,t){var a=t.payload.user;return Object(U.a)({},e,{current:a})}),qn),{token:"",current:null}),ar=Object($n.a)((Kn={},Object(C.a)(Kn,M,function(e,t){var a=t.payload.login;return Object(U.a)({},e,{login:a})}),Object(C.a)(Kn,q,function(e,t){var a=t.payload.password;return Object(U.a)({},e,{password:a})}),Kn),{login:"",password:""}),nr=Object($n.a)((zn={},Object(C.a)(zn,G,function(e,t){var a=t.payload.login;return Object(U.a)({},e,{login:a})}),Object(C.a)(zn,H,function(e,t){var a=t.payload.password;return Object(U.a)({},e,{password:a})}),Object(C.a)(zn,J,function(e,t){var a=t.payload.repeatedPassword;return Object(U.a)({},e,{repeatedPassword:a})}),Object(C.a)(zn,Y,function(e,t){var a=t.payload.name;return Object(U.a)({},e,{name:a})}),Object(C.a)(zn,X,function(e,t){var a=t.payload.email;return Object(U.a)({},e,{email:a})}),zn),{login:"",password:"",repeatedPassword:"",name:"",email:""}),rr=Object($n.a)((Gn={},Object(C.a)(Gn,ue,function(e,t){var a=t.payload.notifState;return Object(U.a)({},e,{open:a})}),Object(C.a)(Gn,pe,function(e,t){var a=t.payload,n=a.open,r=a.message,o=a.type;return Object(U.a)({},e,{open:n,message:r,type:o})}),Gn),{open:!1,message:"",type:""}),or=Object($n.a)((Hn={},Object(C.a)(Hn,me,function(e,t){var a=t.payload.title;return Object(U.a)({},e,{title:a})}),Object(C.a)(Hn,he,function(e,t){var a=t.payload.content;return Object(U.a)({},e,{content:a})}),Object(C.a)(Hn,fe,function(e,t){var a=t.payload.email;return Object(U.a)({},e,{email:a})}),Object(C.a)(Hn,be,function(e,t){var a=t.payload,n=a.title,r=a.content,o=a.email;return Object(U.a)({},e,{title:n,content:r,email:o})}),Hn),{title:"",content:"",email:""}),ir=Object($n.a)((Jn={},Object(C.a)(Jn,ve,function(e,t){var a=t.payload.list;return Object(U.a)({},e,{list:a})}),Object(C.a)(Jn,ge,function(e,t){var a=t.payload.project,n=e.list;return n=Object(U.a)({},n,Object(C.a)({},a.id,a)),Object(U.a)({},e,{name:"",list:n})}),Object(C.a)(Jn,Oe,function(e,t){var a=t.payload.id;return Object(U.a)({},e,{list:Object(da.omit)(e.list,[a])})}),Object(C.a)(Jn,je,function(e,t){var a=t.payload.name;return Object(U.a)({},e,{name:a})}),Jn),{list:{},name:""}),cr=Object(Yn.c)({addTask:Qn,tasks:Zn,UIState:er,user:tr,userAuth:ar,userRegistration:nr,notifications:rr,feedback:or,project:ir}),sr=Object(Yn.d)(cr,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),Object(Yn.a)(Xn.a));i.a.render(r.a.createElement(h.a,{store:sr},r.a.createElement(In,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="service-worker.js";Fn?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Wn(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker.")})):Wn(t,e)})}}()},90:function(e,t,a){}},[[392,1,2]]]);
//# sourceMappingURL=main.732e465f.chunk.js.map